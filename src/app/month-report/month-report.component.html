<!-- <div class="flex justify-content-end mr-3 mt-3">
  <p-button label="Back" (onClick)="backTohome()" [outlined]="true"></p-button>
</div> -->

@defer (when userData && userPresent) {

<div class="p-2  bg-gray-100 flex flex-column gap-3">
  <div class="flex w-full align-items-center bg-white justify-content-between  border-round-md shadow-2 p-2">

    <div class="border-circle h-6rem w-6rem ml-2">
      <img [src]="userData.profilePic" alt="Profile Picture" height="100%" width="100%"
        class="profile-pic border-circle">
    </div>
    <div class="user-details">
      <p class="user-name"><b>Name:</b> {{ userData.name }}</p>
      <p><b>Email:</b> {{ userData.email }}</p>
      <p><b>Designation:</b> {{ userData.designation }}</p>
      <p><b>Reporting To:</b> {{ userData.reportingTo }}</p>
      <p><b>Address:</b> {{ userData.address }}</p>

    </div>
  </div>

  <div class="flex align-items-center justify-content-between bg-white  border-round-md  shadow-2 p-2">
    <p><b>Avg Working Hrs:</b> {{ userPresent.averageHours | decimalTimeShort }}</p>
    <i class="pi pi-wrench"></i>
  </div>

  <div class=" bg-white  border-round-md p-2  shadow-2">
    <h3>Attendance Report</h3>
    <b>Month :</b> {{this.todaysDate.toLocaleString('default', { month:'long' })}}<br>

    <b>Total leaves :</b> {{userData.totalLeaves}}
  </div>

  <p-table [value]="userData.attendanceForLeaves" styleClass="p-datatable-gridlines"
    [tableStyle]="{ 'min-width': 'auto' }" [rowHover]="true">
    <ng-template pTemplate="caption"> Leaves : </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th class="text-center">Date</th>
        <th class="text-center">Day</th>
        <th class="text-center">Status</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td class="text-center">{{ product.date }} {{product.month }} {{ product.year }}</td>
        <td class="text-center">{{ product.day }}</td>
        <td class="text-center">@if (product.status == "Absent") {
          <p-tag severity="danger" value='Absent'></p-tag>
          }@else if (product.status == "Present") {
          <p-tag severity="success" value='Present'></p-tag>
          }@else {
          <p-tag severity="info" value='Holiday'></p-tag>
          }
        </td>
      </tr>
    </ng-template>

  </p-table>

  <p-table [value]=" userPresent.attendanceForLeaves" styleClass="p-datatable-gridlines"
    [tableStyle]="{ 'min-width': 'auto' }" [rowHover]="true">
    <ng-template pTemplate="caption">Days Clocked In :</ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th class="text-center">Date</th>
        <th class="text-center">Day</th>
        <th class="text-center">Hours</th>
        <th class="text-center">Status</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td class="text-center">{{ product.date }} {{ product.month }} {{product.year }}</td>
        <td class="text-center">{{product.day }}</td>
        <td class="text-center">{{ product.hours | decimalTimeShort }}</td>
        <td class="text-center">@if (product.status == "Absent") {
          <p-tag severity="danger" value='Absent'></p-tag>
          }@else if (product.status == "Present") {
          <p-tag severity="success" value='Present'></p-tag>
          }@else {
          <p-tag severity="info" value='Holiday'></p-tag>
          }
        </td>
      </tr>
    </ng-template>

  </p-table>

  <div class=" flex bg-white justify-content-center align-items-center border-round-md  shadow-2 p-2">
    <p-chart type="bar" [data]="basicData" [options]="basicOptions"></p-chart>
  </div>
  <div class=" flex bg-white justify-content-center align-items-center p-2  shadow-2 border-round-md">
    <p-chart type="pie" [data]="pieData" [options]="pieOptions"></p-chart>
  </div>

</div>
}